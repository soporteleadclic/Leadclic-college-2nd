/***********EJERCICIO 3************/
@isTest
public  class ChildCaseNumbersTest {
    @isTest
    static  void ChildCaseNumbersTest() {
        Case case1= new case();
        case case2 =new case();
          case1.Status='new';
          case1.Origin='Phone';
           Test.startTest();
          insert case1;    
          case1.status = 'working';
          update case1;
        Case result=[Select ID,CaseNumber,Description FROM Case WHERE Id =:case1.id];
         
  
        case2.Status='new';
          case2.Origin='Phone';
        case2.ParentId= result.id;
            insert case2;  
        case2.Status = 'working';
          update case2;
                   List<Case> childList = new List<Case>();
                  List<Case> parentList = new List<Case>();
          
          for(Case c : [SELECT Id,CaseNumber,Description FROM Case WHERE ParentId = null]) {
              parentList.add(c);
          }
          update parentList;   
          
          for(Case c : [SELECT Id,CaseNumber,Description FROM Case WHERE ParentId != null]) {
              childList.add(c);
          }
          update childList;
          
          
          for(Case cases : childList){
          System.assertEquals('No child cases.', cases.Description);
              }
      test.stopTest() ;
        

    }
}
